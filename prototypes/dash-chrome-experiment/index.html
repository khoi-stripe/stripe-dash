<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dash Chrome Experiment - Two Panel Layout</title>
  
  <!-- Import shared styles -->
  <link rel="stylesheet" href="../../shared/styles/variables.css">
  <link rel="stylesheet" href="../../shared/styles/base.css">
  <link rel="stylesheet" href="../../shared/styles/typography.css">
  <link rel="stylesheet" href="../../shared/styles/components.css">
  <link rel="stylesheet" href="../../shared/styles/color-utilities.css">
  
  <style>
    body {
      margin: 0;
      padding: 0;
      background: white;
      font-family: var(--font-family-ui);
      overflow: hidden;
    }

    /* App Container - Main flexbox layout */
    .app-container {
      display: flex;
      height: 100vh;
      width: 100%;
    }

    .layout-container {
      display: flex;
      flex: 1;
      min-width: 0;
    }

         /* Navigation Panel */
     .nav-panel {
       width: 240px;
       background: white;
       border-right: 1px solid rgba(0, 39, 77, 0.08);
       flex-shrink: 0;
       position: relative;
       display: flex;
       flex-direction: column;
       height: 100vh;
       overflow: hidden;
     }
     
    .nav-panel.collapsed {
       width: 64px;
       overflow: visible;
     }
     
          .nav-panel.collapsed .nav-item-label,
     .nav-panel.collapsed .workload-caret-icon {
       display: none;
     }
     
     /* Account Switcher in Nav Panel */
     #nav-account-switcher {
       margin-bottom: 16px;
     }
     

     
     .nav-panel.collapsed #nav-account-switcher .account-details,
     .nav-panel.collapsed #nav-account-switcher .account-switcher-caret {
       display: none;
     }
     
     .nav-panel.collapsed #nav-account-switcher {
       width: auto;
     }
     
     .nav-panel.collapsed #nav-account-switcher .account-switcher-trigger {
       width: 24px;
       margin: 0 auto;
       justify-content: center;
     }
     
     /* Collapsed state: hide hamburger and reset account switcher */
     .nav-panel.collapsed .account-switcher-container {
       margin: 0 -20px 16px -20px;
       display: flex;
       justify-content: center;
     }
     
     .nav-panel.collapsed .hamburger-button {
       display: none;
     }
     
     /* Disable animations for account switcher during nav collapse */
     #nav-account-switcher,
     #nav-account-switcher *,
     #nav-account-switcher .account-switcher-trigger,
     #nav-account-switcher .account-avatar {
       transition: none !important;
     }
     
     /* Nav item tooltips for collapsed state */
     .workload-item {
       position: relative;
     }
     
     .nav-item-tooltip {
       position: absolute;
       left: 100%;
       top: 50%;
       transform: translateY(-50%);
       margin-left: 8px;
       padding: 4px 8px;
       background: var(--neutral-900);
       color: white;
       font-family: var(--font-family-ui);
       font-size: var(--font-size-12);
       font-weight: var(--font-weight-medium);
       line-height: var(--line-height-16);
       border-radius: 4px;
       white-space: nowrap;
       opacity: 0;
       visibility: hidden;
       transition: opacity 0.2s ease, visibility 0.2s ease;
       pointer-events: none;
       z-index: 99999;
       box-shadow: var(--shadow-md);
       border: 1px solid rgba(255, 255, 255, 0.1);
     }
     
     .nav-item-tooltip::before {
       content: '';
       position: absolute;
       top: 50%;
       left: -4px;
       transform: translateY(-50%);
       width: 0;
       height: 0;
       border-style: solid;
       border-width: 4px 4px 4px 0;
       border-color: transparent var(--neutral-900) transparent transparent;
     }
     
     .nav-panel.collapsed .nav-item:hover .nav-item-tooltip,
     .nav-panel.collapsed .workload-item:hover .nav-item-tooltip,
     .nav-panel.collapsed .account-switcher-trigger:hover .account-switcher-tooltip {
       opacity: 1;
       visibility: visible;
     }
     
     .nav-panel:not(.collapsed) .nav-item-tooltip,
     .nav-panel:not(.collapsed) .account-switcher-tooltip {
       display: none;
     }
     
     /* Customize account switcher for nav panel */
     #nav-account-switcher .account-switcher {
       display: block;
       width: 100%;
     }
     
     #nav-account-switcher .account-switcher-trigger {
       width: 100%;
       min-width: auto;
       background: transparent;
       border: none;
       border-radius: var(--radius-sm);
       padding: 4px 6px;
       height: 36px;
       max-width: 240px;
       box-sizing: content-box;
       margin: 0 -6px;
     }
     
     #nav-account-switcher .account-switcher-trigger:hover {
       background: var(--neutral-50);
     }
     
     /* Account Switcher Container with Hamburger */
     .account-switcher-container {
       position: relative;
       display: flex;
       align-items: center;
       gap: 0;
       margin-bottom: 16px;
       transition: gap 0.2s ease;
     }
     
     .account-switcher-container:hover {
       gap: 8px;
     }
     
     /* Keep container gap when account switcher is open */
     .account-switcher-container.account-switcher-open {
       gap: 8px;
     }
     
     .hamburger-button {
       display: flex;
       align-items: center;
       justify-content: center;
       width: 0;
       height: 24px;
       border: none;
       background: transparent;
       border-radius: var(--radius-sm);
       cursor: pointer;
       opacity: 0;
       transform: translateX(-24px); /* Match the full width of 24px container */
       transition: all 0.2s ease;
       color: var(--icon-default);
       flex-shrink: 0;
       overflow: hidden;
       padding: 0;
     }
     
     .hamburger-button:hover {
       background: var(--neutral-50);
       color: var(--neutral-700);
     }
     
     .account-switcher-container:hover .hamburger-button {
       opacity: 1;
       transform: translateX(0);
       width: 24px; /* Match nav-item-icon container width */
       height: 24px; /* Match nav-item-icon container height */
       padding: 0; /* Remove padding to keep 24px total like nav icons */
     }
     
     /* Keep hamburger visible when account switcher is open */
     .account-switcher-container.account-switcher-open .hamburger-button {
       opacity: 1;
       transform: translateX(0);
       width: 24px; /* Match nav-item-icon container width */
       height: 24px; /* Match nav-item-icon container height */
       padding: 0; /* Remove padding to keep 24px total like nav icons */
     }
     
     .account-switcher-container:hover #nav-account-switcher {
       width: calc(100% - 32px); /* Account for hamburger (24px) + gap (8px) */
     }
     
     /* Keep account switcher sized for hamburger when popover is open */
     .account-switcher-container.account-switcher-open #nav-account-switcher {
       width: calc(100% - 32px); /* Account for hamburger (24px) + gap (8px) */
     }
     
     .account-switcher-container:hover #nav-account-switcher .account-switcher-trigger {
       max-width: none;
     }
     
     /* Keep account switcher trigger unsized when popover is open */
     .account-switcher-container.account-switcher-open #nav-account-switcher .account-switcher-trigger {
       max-width: none;
     }
     
     /* Hide hamburger when nav panel is collapsed */
     .nav-panel.collapsed .hamburger-button {
       display: none;
     }
     
     .nav-panel.collapsed .account-switcher-container {
       gap: 0 !important;
     }
     
     .nav-panel.collapsed #nav-account-switcher {
       width: 100% !important;
     }
     
     /* Account switcher takes full width by default */
     #nav-account-switcher {
       margin-bottom: 0;
       width: 100%;
       transition: width 0.2s ease;
     }
     
     /* Remove the original margin from account switcher */

     /* Account Panel */
     .account-panel {
       width: 0; /* Hidden by default */
       height: 100vh;
       background: var(--color-background);
       border-right: 1px solid rgba(0, 39, 77, 0.08);
       display: flex;
       flex-direction: column;
       transition: width 0.3s ease;
       overflow: hidden;
       flex-shrink: 0;
       position: relative;
       z-index: 10;
     }
     
     .account-panel.open {
       width: 240px; /* Expand to full width */
       box-shadow: inset -2px 0 2px rgba(0, 0, 0, 0.03);
     }
     
     .account-panel-content {
       flex: 1;
       padding: 12px 20px;
       overflow: visible; /* Allow popover to show outside bounds */
       position: relative;
       display: flex;
       flex-direction: column;
     }
     
     /* Account Group */
     .account-group {
       display: flex;
       flex-direction: column;
       gap: 6px;
       position: relative;
     }
     
     /* Account Item Extensions */
     .account-panel .nav-item {
       position: relative;
       display: flex;
       align-items: center;
       gap: 8px;
       padding: 0;
       color: var(--icon-default);
       text-decoration: none;
       transition: all var(--transition-fast);
       border-radius: var(--radius-sm);
       cursor: pointer;
       height: 24px;
       width: 200px; /* Fixed width - prevents resizing during panel transition */
       min-width: 200px; /* Ensure minimum width is maintained */
       flex-shrink: 0; /* Prevent shrinking */
       box-sizing: border-box;
     }
     
     /* Account-specific items inherit from nav-item above */
     .account-panel .account-item {
       /* Account items inherit from .nav-item above */
       height: 24px; /* Ensure account items are exactly 24px high */
     }
     
     /* Account item specific floating hover (4px extension) */
     .account-panel .account-item::before {
       content: '';
       position: absolute;
       top: -4px;    /* Extends 4px above */
       left: -4px;   /* Extends 4px left */
       right: -4px;  /* Extends 4px right */
       bottom: -4px; /* Extends 4px below */
       background-color: transparent;
       border-radius: 8px;
       transition: background-color var(--transition-fast);
       z-index: 0;
       pointer-events: none;
       display: block;
     }
     
     /* Ensure account item content is above floating hover */
     .account-panel .account-item .nav-item-icon,
     .account-panel .account-item .nav-item-label {
       position: relative;
       z-index: 1;
     }
     
     .account-panel .account-item .nav-item-label {
       margin-left: 0; /* Remove the 8px margin from shared nav-item-label */
     }
     
     /* Remove margin-left from all nav-item-label in account panel to prevent double spacing */
     .account-panel .nav-item-label {
       margin-left: 0; /* Use gap instead of margin for consistent 8px spacing */
     }
     
     /* Add Account Button */
     .add-account-button {
       position: relative;
     }
     
     /* Pin bottom Create button to bottom of panel */
     .add-account-button.bottom-pinned {
       margin-top: auto;
     }
     
     /* Pin user section to bottom of panel */
     .user-section.bottom-pinned {
       margin-top: auto;
       display: flex;
       flex-direction: column;
       gap: 6px;
     }
     
     /* Remove old individual button pinning */
     

     
     /* Hover state pseudo-element (same as nav panel) */
     .account-panel .nav-item::before {
       content: '';
       position: absolute;
       top: -4px;
       left: -4px;
       right: -4px;
       bottom: -4px;
       background-color: transparent;
       border-radius: 8px;
       transition: background-color var(--transition-fast);
       z-index: 0;
       pointer-events: none;
       display: block;
     }
     
     /* Ensure content is above pseudo-element */
     .account-panel .nav-item-icon,
     .account-panel .nav-item-label {
       position: relative;
       z-index: 1;
     }
     
     .account-panel .nav-item-icon {
       width: 24px;
       height: 24px;
       flex-shrink: 0;
       display: flex;
       align-items: center;
       justify-content: center;
     }
     
     .account-panel .nav-item-label {
       flex: 1;
       display: flex;
       align-items: center;
       line-height: 1; /* Override default line-height for better alignment */
       white-space: nowrap; /* Prevent text wrapping */
       overflow: hidden; /* Hide overflow text */
       text-overflow: ellipsis; /* Show ellipsis for long text */
       margin-left: 0; /* Remove inherited left margin */
     }
     
     /* More specific override for account-item labels to ensure no vertical spacing */
     .account-panel .account-item .nav-item-label {
       line-height: 1; /* Force line-height to 1 to eliminate vertical spacing */
       padding: 0; /* Ensure no padding */
       margin: 0; /* Ensure no margin */
     }
     
     /* Only active account is non-interactive */
     .account-panel .account-item.nav-item.active {
       /* Active state - white floating background */
     }
     
     .account-panel .account-item.nav-item.active::before {
       background-color: transparent !important; /* Override shared CSS - no background for active account */
     }
     
     .account-panel .account-item.nav-item.active:hover {
       /* Active state hover - no background */
     }
     
     .account-panel .account-item.nav-item.active:hover::before {
       background-color: transparent !important; /* Override shared CSS - no background for active account on hover */
     }
     
     /* Ensure no purple brand background on active account items */
     .account-panel .account-item.nav-item.active,
     .account-panel .account-item.nav-item.active:hover {
       background-color: transparent !important;
     }
     

     
     /* Re-enable white hovers for non-active items */
     .account-panel .account-item.nav-item:not(.active):hover {
       /* Hover handled by floating pseudo-element */
     }
     
     .account-panel .account-item.nav-item:not(.active):hover::before {
       background-color: white; /* White floating hover background */
     }
     
     .account-panel .add-account-button.nav-item:hover {
       background-color: white !important;
     }
     
     .account-panel .add-account-button.nav-item:hover::before {
       background-color: white !important;
     }
     
     /* Persist white hover state when popover is open */
     .account-panel .add-account-button.nav-item.popover-open {
       background-color: white !important;
     }
     
     .account-panel .add-account-button.nav-item.popover-open::before {
       background-color: white !important;
     }
     
     /* User section nav item hover styles */
     .account-panel .user-section .nav-item:hover {
       /* Remove background change from button itself */
     }
     
     .account-panel .user-section .nav-item:hover::before {
       background-color: white;
     }
     
     /* Account Avatar */
     .account-avatar {
       width: 24px;
       height: 24px;
       border-radius: 4px;
       display: flex;
       align-items: center;
       justify-content: center;
       font-family: var(--font-family-ui);
       font-size: var(--font-size-12);
       font-weight: var(--font-weight-medium);
       color: white;
       position: relative;
     }
     
     .account-avatar[data-initials]:before {
       content: attr(data-initials);
     }
     
     /* Use account switcher component color palette */
     .account-avatar[data-color="#3B82F6"] { background-color: #3B82F6; } /* blue-500 */
     .account-avatar[data-color="#10B981"] { background-color: #10B981; } /* emerald-500 */
     .account-avatar[data-color="#F59E0B"] { background-color: #F59E0B; } /* amber-500 */
     
     /* Active Account Avatar Stroke */
     .account-item.active .account-avatar:after {
       content: '';
       position: absolute;
       top: -2.5px;
       left: -2.5px;
       right: -2.5px;
       bottom: -2.5px;
       border: 1.5px solid;
       border-radius: 6px;
       pointer-events: none;
     }
     
     .account-item.active .account-avatar[data-color="#3B82F6"]:after { border-color: rgba(59, 130, 246, 0.5); }
     .account-item.active .account-avatar[data-color="#10B981"]:after { border-color: rgba(16, 185, 129, 0.5); }
     .account-item.active .account-avatar[data-color="#F59E0B"]:after { border-color: rgba(245, 158, 11, 0.5); }
     
     /* Account Badge */
     .account-badge {
       position: absolute;
       right: 8px;
       top: 50%;
       transform: translateY(-50%);
       color: var(--neutral-400);
       font-family: var(--font-family-ui);
       font-size: var(--font-size-12);
       font-weight: var(--font-weight-semibold);
       padding: 2px 6px;
       line-height: var(--line-height-16);
       letter-spacing: 0;
       min-width: 16px;
       text-align: center;
     }

     /* Account items need relative positioning for absolute badges/checkmarks */
     .account-item {
       position: relative;
     }

     /* Account Check (for active accounts) */
     .account-check {
       position: absolute;
       right: 8px;
       top: 50%;
       transform: translateY(-50%);
       display: flex;
       align-items: center;
       justify-content: center;
       color: var(--brand-600);
       width: 16px;
       height: 16px;
       flex-shrink: 0;
     }
     
     .account-check svg {
       width: 16px;
       height: 16px;
       color: var(--brand-600);
     }
     


     /* Content Panel */
     .content-panel {
       flex: 1;
       background: white;
       min-width: 0; /* Allows flex item to shrink below content size */
       position: relative;
       display: flex;
       flex-direction: column;
     }

     /* Content Header */
     .content-header {
       height: 60px;
       padding: 12px 32px;
       background: white;
       display: flex;
       align-items: center;
       width: 100%;
       box-sizing: border-box;
     }
     
     /* Header Actions */
     .header-actions {
       display: flex;
       align-items: center;
       gap: 8px; /* 8px spacing between icons */
       margin-left: auto; /* Push to right side */
     }
     
     .header-icon {
       display: flex;
       align-items: center;
       justify-content: center;
       cursor: pointer;
     }

     /* Search Bar */
     .search-container {
       position: relative;
       width: 360px;
     }

     .search-input {
       width: 100%;
       height: 36px;
       padding: 8px 8px 8px 32px;
       background: var(--neutral-50);
       border: none;
       border-radius: 8px;
       font-family: var(--font-family-ui);
       font-size: var(--font-size-14);
       color: var(--color-text);
       box-sizing: border-box;
       transition: var(--transition-default);
     }

     .search-input:focus {
       outline: none;
       background: var(--neutral-50);
     }

     .search-input::placeholder {
       color: var(--color-text-muted);
     }

     .search-icon {
       position: absolute;
       left: 8px;
       top: 50%;
       transform: translateY(-50%);
       width: 12px;
       height: 12px;
       color: var(--color-text-muted);
       pointer-events: none;
       display: flex;
       align-items: center;
       justify-content: center;
     }

     .search-icon svg {
       width: 12px;
       height: 12px;
       stroke: currentColor;
       stroke-width: 1.5;
       fill: none;
     }

     /* Main Navigation */
     .main-nav {
       display: flex;
       flex-direction: column;
       gap: 8px;
     }
     
     /* Workloads Navigation */
     .workloads-nav {
       display: flex;
       flex-direction: column;
       gap: 8px;
       margin-top: 24px;
     }
     
     /* Bottom Navigation */
     .bottom-nav {
       display: flex;
       flex-direction: column;
       gap: 8px;
       padding: 12px 20px;
       margin-top: auto; /* This pushes it to the bottom */
     }
     
     /* Floating Collapse Handle */
     .collapse-handle {
       position: fixed;
       left: 240px; /* Right edge of nav panel */
       top: 50%;
       transform: translateY(-50%);
       padding: 8px;
       z-index: 10;
       cursor: pointer;
       transition: left 0.3s ease;
     }
     
     .collapse-handle.collapsed {
       left: 64px; /* Adjust position when collapsed */
     }
     
     /* When account panel is open, move collapse handle to stay with nav panel */
     .collapse-handle.account-panel-open {
       left: 480px; /* 240px (account panel) + 240px (nav panel) */
     }
     
     .collapse-handle.account-panel-open.collapsed {
       left: 304px; /* 240px (account panel) + 64px (collapsed nav panel) */
     }
     
     .collapse-line {
       width: 2px;
       height: 14px;
       background-color: var(--neutral-200);
       border-radius: 1px; /* Rounded ends */
       transition: opacity 0.2s ease;
     }
     
     .collapse-arrow {
       position: absolute;
       top: 50%;
       left: 50%;
       transform: translate(-50%, -50%) rotate(180deg); /* Default: left-pointing when expanded */
       opacity: 0;
       transition: opacity 0.2s ease, transform 0.2s ease;
     }
     
     /* Show arrow and hide line on hover */
     .collapse-handle:hover .collapse-line {
       opacity: 0;
     }
     
     .collapse-handle:hover .collapse-arrow {
       opacity: 1;
     }
     
     /* Right-pointing arrow when collapsed (expand direction) */
     .collapse-handle.collapsed .collapse-arrow {
       transform: translate(-50%, -50%) rotate(0deg);
     }
     
     .collapse-tooltip {
       position: absolute;
       left: 100%;
       top: 50%;
       transform: translateY(-50%);
       margin-left: 8px;
       padding: 4px 8px;
       background: var(--neutral-900);
       color: white;
       font-family: var(--font-family-ui);
       font-size: var(--font-size-12);
       font-weight: var(--font-weight-medium);
       line-height: var(--line-height-16);
       border-radius: 4px;
       white-space: nowrap;
       opacity: 0;
       visibility: hidden;
       transition: opacity 0.2s ease, visibility 0.2s ease;
       pointer-events: none;
     }
     
     .collapse-handle:hover .collapse-tooltip {
       opacity: 1;
       visibility: visible;
     }
     
     .collapse-handle.no-hover:hover .collapse-tooltip {
       opacity: 0;
       visibility: hidden;
     }
     
     .collapse-handle.no-hover:hover .collapse-line {
       opacity: 1;
     }
     
     .collapse-handle.no-hover:hover .collapse-arrow {
       opacity: 0;
     }

     /* Content Body */
     .content-body {
       flex: 1;
       background: white;
       overflow-y: auto;
       padding: 20px 32px 32px 32px;
     }
     
     .content-placeholder {
       width: 100%;
       height: 100%;
       background-color: var(--neutral-50);
       border-radius: 12px;
     }

     /* Responsive behavior */
     @media (max-width: 768px) {
       .nav-panel {
         position: fixed;
         top: 0;
         left: 0;
         height: 100vh;
         z-index: 999;
         box-shadow: var(--shadow-lg);
       }
       
       .content-panel {
         width: 100%;
       }
       
       .nav-toggle {
         left: 20px !important;
       }
       
       .collapse-handle {
         display: none; /* Hide on mobile */
       }
       
       .nav-panel.collapsed {
         width: 64px;
       }
     }
  </style>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const navPanel = document.getElementById('navPanel');
        const accountPanel = document.getElementById('accountPanel');
        const collapseHandle = document.querySelector('.collapse-handle');
        const hamburgerButton = document.querySelector('.hamburger-button');
        const tooltip = document.querySelector('.collapse-tooltip');
        
        let isCollapsed = false;
        let isAccountPanelOpen = false;
        let wasNavCollapsedBeforeAccountPanel = false; // Track previous nav state
        
        // Toggle account panel on hamburger click
        hamburgerButton.addEventListener('click', function() {
          isAccountPanelOpen = !isAccountPanelOpen;
          
          if (isAccountPanelOpen) {
            // Store current nav panel state before opening account panel
            wasNavCollapsedBeforeAccountPanel = isCollapsed;
            
            // Open account panel and collapse nav panel
            accountPanel.classList.add('open');
            navPanel.classList.add('collapsed');
            collapseHandle.classList.add('collapsed');
            collapseHandle.classList.add('account-panel-open');
            tooltip.textContent = 'Expand';
            isCollapsed = true;
          } else {
            // Close account panel and restore previous nav state
            accountPanel.classList.remove('open');
            collapseHandle.classList.remove('account-panel-open');
            
            // Restore nav panel to previous state
            if (!wasNavCollapsedBeforeAccountPanel) {
              navPanel.classList.remove('collapsed');
              collapseHandle.classList.remove('collapsed');
              tooltip.textContent = 'Collapse';
              isCollapsed = false;
            }
          }
        });
        
        // Helper function to close account panel
        function closeAccountPanel() {
          if (isAccountPanelOpen) {
            // Close account panel and restore previous nav state
            accountPanel.classList.remove('open');
            collapseHandle.classList.remove('account-panel-open');
            
            // Restore nav panel to previous state
            if (!wasNavCollapsedBeforeAccountPanel) {
              navPanel.classList.remove('collapsed');
              collapseHandle.classList.remove('collapsed');
              tooltip.textContent = 'Collapse';
              isCollapsed = false;
            }
            
            isAccountPanelOpen = false;
          }
        }
        
        // Close account panel when clicking on nav panel
        navPanel.addEventListener('click', function(event) {
          // Don't close if clicking on account switcher or other interactive elements
          const clickedElement = event.target;
          const isAccountSwitcherClick = clickedElement.closest('.account-switcher-container') ||
                                       clickedElement.closest('.account-switcher-dropdown') ||
                                       clickedElement.closest('.hamburger-button');
          
          if (!isAccountSwitcherClick && isAccountPanelOpen) {
            closeAccountPanel();
          }
        });
        
        // Close account panel when clicking on content panel
        const contentPanel = document.getElementById('contentPanel');
        if (contentPanel) {
          contentPanel.addEventListener('click', function(event) {
            if (isAccountPanelOpen) {
              closeAccountPanel();
            }
          });
        }
        
        // Update existing account panel click handler to use helper function
        // Close account panel when clicking on background only
        accountPanel.addEventListener('click', function(event) {
          if (isAccountPanelOpen) {
            // Only close if clicking directly on specific background elements
            const clickedElement = event.target;
            
            // List of elements that should close the panel when clicked
            const shouldClosePanel = clickedElement === accountPanel || 
                                   clickedElement.classList.contains('account-panel-content') ||
                                   clickedElement.classList.contains('account-group');
            
            if (shouldClosePanel) {
              closeAccountPanel();
            }
          }
        });
        
        // Toggle navigation panel on handle click
        collapseHandle.addEventListener('click', function() {
          // If account panel is open, close it first and restore previous state
          if (isAccountPanelOpen) {
            closeAccountPanel();
            return; // Exit early since we closed the account panel
          }
          
          // Normal nav panel toggle behavior
          // Dismiss tooltip immediately and prevent hover
          collapseHandle.classList.add('no-hover');
          
          isCollapsed = !isCollapsed;
          
          if (isCollapsed) {
            navPanel.classList.add('collapsed');
            collapseHandle.classList.add('collapsed');
            tooltip.textContent = 'Expand';
            // Allow hover again once collapsed
            collapseHandle.classList.remove('no-hover');
          } else {
            navPanel.classList.remove('collapsed');
            collapseHandle.classList.remove('collapsed');
            tooltip.textContent = 'Collapse';
            // Allow hover again once expanded
            collapseHandle.classList.remove('no-hover');
          }
        });
        
        // Handle Create button clicks (both buttons)
        const createButtons = accountPanel.querySelectorAll('.add-account-button');
        createButtons.forEach(function(createButton) {
          createButton.addEventListener('click', function(event) {
            event.stopPropagation(); // Prevent panel from closing
            // Add create account functionality here if needed
          });
        });
        
        // Handle Username button click
        const usernameButton = document.getElementById('usernameButton');
        if (usernameButton) {
          usernameButton.addEventListener('click', function(event) {
            event.stopPropagation(); // Prevent panel from closing
            // Add user profile functionality here if needed
          });
        }
        
        // Handle Sign Out button click
        const signOutButton = document.getElementById('signOutButton');
        if (signOutButton) {
          signOutButton.addEventListener('click', function(event) {
            event.stopPropagation(); // Prevent panel from closing
            // Add sign out functionality here if needed
            console.log('Sign out clicked');
          });
        }
        
        // Account Panel Functionality
        const addAccountButton = document.getElementById('addAccountButton');
        const accountItems = document.querySelectorAll('.account-item');
        
        // Account data with realistic hierarchical structure
        const accounts = {
          'acme-inc': {
            name: 'Acme, Inc.',
            isOrganization: true,
            color: '#3B82F6',
            initials: 'AI',
            lastUsed: Date.now(), // Currently active
            description: 'Multi-business conglomerate',
            subAccounts: {
              'acme-eats-us': { name: 'Acme Eats US', region: 'United States', type: 'Food Delivery' },
              'acme-eats-ca': { name: 'Acme Eats CA', region: 'Canada', type: 'Food Delivery' },
              'acme-eats-uk': { name: 'Acme Eats UK', region: 'United Kingdom', type: 'Food Delivery' },
              'acme-rides-us': { name: 'Acme Rides US', region: 'United States', type: 'Transportation' },
              'acme-rides-ca': { name: 'Acme Rides CA', region: 'Canada', type: 'Transportation' },
              'acme-deliveries-us': { name: 'Acme Deliveries US', region: 'United States', type: 'Logistics' },
              'acme-deliveries-uk': { name: 'Acme Deliveries UK', region: 'United Kingdom', type: 'Logistics' },
              'acme-financial': { name: 'Acme Financial', region: 'Global', type: 'Financial Services' }
            }
          },
          'cactus-practice': {
            name: 'Cactus Practice',
            isOrganization: false,
            color: '#10B981',
            initials: 'CP',
            lastUsed: Date.now() - (24 * 60 * 60 * 1000), // 1 day ago
            description: 'Purveyors of cacti online'
          },
          'lil-fatsos': {
            name: 'Lil\'Fatsos',
            isOrganization: true,
            color: '#F59E0B',
            initials: 'LF',
            lastUsed: Date.now() - (7 * 24 * 60 * 60 * 1000), // 7 days ago
            description: 'Amazing sandwiches and subs',
            subAccounts: {
              'lf-midtown': { name: 'Midtown East', region: 'Manhattan, NYC', address: '123 E 42nd St' },
              'lf-village': { name: 'East Village', region: 'Manhattan, NYC', address: '456 E 9th St' },
              'lf-brooklyn': { name: 'Park Slope', region: 'Brooklyn, NYC', address: '789 7th Ave' },
              'lf-queens': { name: 'Astoria', region: 'Queens, NYC', address: '321 Ditmars Blvd' },
              'lf-soho': { name: 'SoHo', region: 'Manhattan, NYC', address: '654 Spring St' }
            }
          }
        };
        
        let currentAccount = 'acme-inc';
        let currentSubAccount = 'all-accounts'; // Default to "All accounts" for organizations
        
        // Make variables globally accessible for callbacks
        window.accounts = accounts;
        window.currentAccount = currentAccount;
        window.currentSubAccount = currentSubAccount;
        
        // Account switching functionality
        accountItems.forEach(item => {
          if (!item.classList.contains('add-account-button')) {
            item.addEventListener('click', function(event) {
              event.stopPropagation(); // Prevent event from bubbling up to account panel
              const accountId = this.dataset.account;
              if (accountId) {
                switchAccount(accountId);
              }
            });
          }
        });
        
        function switchAccount(accountId) {
          const account = accounts[accountId];
          if (!account) {
            console.error('❌ Account not found:', accountId);
            return;
          }
          
          // Check if switching to same account
          if (accountId === currentAccount) {
            // Allow switching to same account to refresh view
          }
          
          // Update lastUsed timestamp
          account.lastUsed = Date.now();
          
          // Update current account
          currentAccount = accountId;
          
          // Set default sub-account for organizations
          if (account.isOrganization && account.subAccounts) {
            currentSubAccount = 'all-accounts'; // Default to "All accounts" for organizations
          } else {
            currentSubAccount = null; // No sub-account for non-orgs
          }
          
          // Update window references BEFORE calling updateContentPanel
          window.currentAccount = currentAccount;
          window.currentSubAccount = currentSubAccount;
          
          // Update UI
          updateActiveAccount(accountId);
          reorderAccountList(accountId);
          updateNavAccountSwitcher(account);
          
          // Update content panel - pass "All accounts" object if that's the current selection
          if (account.isOrganization && currentSubAccount === 'all-accounts') {
            updateContentPanel({
              id: 'all-accounts',
              name: 'All accounts',
              type: account.name,
              isAllAccounts: true
            });
          } else {
            updateContentPanel(account);
          }
        }
        
        function reorderAccountList(activeAccountId) {
          const accountGroup = document.querySelector('.account-group');
          const addAccountButton = document.getElementById('addAccountButton');
          
          // Get all account items except the add button
          const accountItems = Array.from(accountGroup.querySelectorAll('.account-item:not(.add-account-button)'));
          
          // Sort accounts: active first, then by recency
          const sortedAccountIds = Object.keys(accounts).sort((a, b) => {
            if (a === activeAccountId) return -1;
            if (b === activeAccountId) return 1;
            return accounts[b].lastUsed - accounts[a].lastUsed;
          });
          
          // Reorder DOM elements
          sortedAccountIds.forEach(accountId => {
            const accountElement = accountGroup.querySelector(`[data-account="${accountId}"]`);
            if (accountElement) {
              accountGroup.insertBefore(accountElement, addAccountButton);
            }
          });
        }
        
        function updateActiveAccount(accountId) {
          // Remove active class, tooltip, checkmarks, and badges from all account items
          accountItems.forEach(item => {
            item.classList.remove('active');
            item.removeAttribute('title');
            
            // Remove existing checkmark if present
            const existingCheck = item.querySelector('.account-check');
            if (existingCheck) {
              existingCheck.remove();
            }
            
            // Remove existing badge if present
            const existingBadge = item.querySelector('.account-badge');
            if (existingBadge) {
              existingBadge.remove();
            }
          });
          
          // Update all accounts with appropriate indicators
          accountItems.forEach(item => {
            const itemAccountId = item.dataset.account;
            const account = accounts[itemAccountId];
            
            if (itemAccountId === accountId) {
              // This is the active account
              item.classList.add('active');
              item.setAttribute('title', 'Current account');
              
              // Add checkmark for all active accounts
              const checkmark = document.createElement('div');
              checkmark.className = 'account-check';
              checkmark.innerHTML = `
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.2803 5.21967C12.5732 5.51256 12.5732 5.98744 12.2803 6.28033L7.53033 11.0303C7.23744 11.3232 6.76256 11.3232 6.46967 11.0303L3.96967 8.53033C3.67678 8.23744 3.67678 7.76256 3.96967 7.46967C4.26256 7.17678 4.73744 7.17678 5.03033 7.46967L7 9.43934L11.2197 5.21967C11.5126 4.92678 11.9874 4.92678 12.2803 5.21967Z" fill="currentColor"/>
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M8 14.5C11.5903 14.5 14.5 11.5903 14.5 7.99999C14.5 4.40834 11.6 1.5 8 1.5C4.4097 1.5 1.5 4.40969 1.5 7.99999C1.5 11.5903 4.4097 14.5 8 14.5ZM8 16C12.4187 16 16 12.4187 16 7.99999C16 3.58126 12.4297 0 8 0C3.58127 0 0 3.58126 0 7.99999C0 12.4187 3.58127 16 8 16Z" fill="currentColor"/>
                </svg>
              `;
              item.appendChild(checkmark);
            } else {
              // This is not the active account
              // Add count badge only if it's an organization
              if (account && account.isOrganization && account.subAccounts) {
                const subAccountCount = Object.keys(account.subAccounts).length;
                const badge = document.createElement('span');
                badge.className = 'account-badge';
                badge.textContent = subAccountCount;
                item.appendChild(badge);
              }
            }
          });
        }
        
        function updateNavAccountSwitcher(account) {
          if (!window.navAccountSwitcherInstance) {
            return;
          }
          
          if (account.isOrganization && account.subAccounts) {
            // For organizations: show current sub-account and populate dropdown with all sub-accounts
            
            // Use 2-line variant for organizations to show sub-account and organization name
            window.navAccountSwitcherInstance.options.variant = '2-line';
            
            // Check if we're showing "All accounts" or a specific sub-account
            if (currentSubAccount === 'all-accounts') {
              // Update current account to show "All accounts"
              window.navAccountSwitcherInstance.options.currentAccount = {
                id: 'all-accounts',
                name: 'All accounts',
                type: account.name,  // Organization name as type
                isAllAccounts: true,
                color: account.color // Include the organization color
              };
            } else {
              // Show specific sub-account
              const currentSubAccountData = account.subAccounts[currentSubAccount];
              window.navAccountSwitcherInstance.options.currentAccount = {
                id: currentSubAccount,
                name: currentSubAccountData.name,
                type: account.name,  // Organization name as type
                color: account.color // Include the organization color
              };
            }
            
            // Update accounts list to show all sub-accounts
            window.navAccountSwitcherInstance.options.accounts = Object.entries(account.subAccounts).map(([id, data]) => ({
              id: id,
              name: data.name,
              type: data.region || data.type || 'Location'
            }));
            
            // Force re-render the account switcher
            window.navAccountSwitcherInstance.render();
            window.navAccountSwitcherInstance.bindEvents();
            
          } else {
            // For non-organizations: show account name only, use 1-line variant to remove second line
            window.navAccountSwitcherInstance.options.variant = '1-line';
            
            window.navAccountSwitcherInstance.options.currentAccount = {
              id: currentAccount,
              name: account.name,
              type: '', // Empty type since we're using 1-line variant
              color: account.color // Include the account color
            };
            
            // Single account in the list (no dropdown options)
            window.navAccountSwitcherInstance.options.accounts = [{
              id: currentAccount,
              name: account.name,
              type: '',
              color: account.color // Include the account color
            }];
            
            // Force re-render the account switcher
            window.navAccountSwitcherInstance.render();
            window.navAccountSwitcherInstance.bindEvents();
          }
        }
        
        function updateContentPanel(account) {
          // Update content placeholder to show current account and sub-account
          const contentPlaceholder = document.querySelector('.content-placeholder');
          
          if (!contentPlaceholder) {
            console.error('❌ Content placeholder not found!');
            return;
          }
          
          // Generate colors for accounts (same logic as account switcher)
          function generateAccountColors() {
            const colors = [
              '#3B82F6', // blue-500
              '#8B5CF6', // violet-500
              '#10B981', // emerald-500
              '#F59E0B', // amber-500
              '#EF4444', // red-500
              '#EC4899', // pink-500
              '#06B6D4', // cyan-500
              '#84CC16', // lime-500
              '#F97316', // orange-500
              '#6366F1', // indigo-500
              '#14B8A6', // teal-500
              '#F87171', // red-400
              '#A78BFA', // violet-400
              '#34D399', // emerald-400
              '#FBBF24', // amber-400
            ];
            
            const accountColors = {};
            const navSwitcherAccounts = window.navAccountSwitcherInstance?.options?.accounts || [];
            navSwitcherAccounts.forEach((acc, index) => {
              accountColors[acc.id] = colors[index % colors.length];
            });
            
            return accountColors;
          }
          
          // Clear existing content and set up centered layout
          contentPlaceholder.innerHTML = '';
          contentPlaceholder.style.cssText = `
            width: 100%;
            height: 100%;
            background-color: var(--color-background);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
          `;
          
          // Handle "All accounts" special case
          if (account.id === 'all-accounts' || account.isAllAccounts) {
            const currentOrgAccount = window.accounts[window.currentAccount];
            const subAccountCount = Object.keys(currentOrgAccount.subAccounts).length;
            
            contentPlaceholder.innerHTML = `
              <div style="font-family: var(--font-family-ui); font-size: var(--font-size-24); font-weight: var(--font-weight-semibold); color: var(--color-text); text-align: center; line-height: var(--line-height-32);">
                ${currentOrgAccount.name}
              </div>
              <div style="font-family: var(--font-family-ui); font-size: var(--font-size-16); color: var(--color-text-subdued); text-align: center; line-height: var(--line-height-24);">
                All accounts • ${subAccountCount} sub-accounts
              </div>
            `;
            return;
          }
          
          // Get account colors
          const accountColors = generateAccountColors();
          
          // Build account display content for regular accounts
          let displayHTML = `
            <div style="font-family: var(--font-family-ui); font-size: var(--font-size-24); font-weight: var(--font-weight-semibold); color: var(--color-text); text-align: center; line-height: var(--line-height-32);">
              ${account.name}
            </div>
          `;
          
          if (account.isOrganization && account.subAccounts && window.currentSubAccount) {
            const subAccountData = account.subAccounts[window.currentSubAccount];
            const subAccountColor = accountColors[window.currentSubAccount] || '#6D7C8C';
            displayHTML += `
              <div style="font-family: var(--font-family-ui); font-size: var(--font-size-16); color: ${subAccountColor}; text-align: center; line-height: var(--line-height-24);">
                ${subAccountData.name}${subAccountData.region ? ` • ${subAccountData.region}` : ''}
              </div>
            `;
          } else if (account.description) {
            // For non-organization accounts, use the predefined account color
            const accountColor = account.color || '#6D7C8C'; // Fallback to neutral if no color defined
            displayHTML += `
              <div style="font-family: var(--font-family-ui); font-size: var(--font-size-16); color: ${accountColor}; text-align: center; line-height: var(--line-height-24);">
                ${account.description}
              </div>
            `;
          } else if (account.isOrganization && account.subAccounts) {
            // Fallback for organizations that didn't match the "All accounts" case
            const subAccountCount = Object.keys(account.subAccounts).length;
            displayHTML += `
              <div style="font-family: var(--font-family-ui); font-size: var(--font-size-16); color: var(--color-text-subdued); text-align: center; line-height: var(--line-height-24);">
                ${subAccountCount} sub-accounts
              </div>
            `;
          }
          
          contentPlaceholder.innerHTML = displayHTML;
        }
        
        // Make function globally accessible for callbacks
        window.updateContentPanel = updateContentPanel;
        
        // Initialize Create popover using global component
        const createButton = document.getElementById('addAccountButton');
        if (createButton && window.Popover) {
          const createPopover = new Popover(createButton, {
            position: 'right',
            offset: 8,
            trigger: 'hover',
            hideDelay: 100,
            content: [
            {
              icon: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                       <path fill-rule="evenodd" clip-rule="evenodd" d="M14.9977 8.19089C15.6092 7.64898 16.0002 6.87952 16.0002 6V5.90012C16.0002 5.58415 15.9687 5.26896 15.9061 4.95925L15.2757 1.83964L15.2729 1.82792C15.1493 1.3036 14.9237 0.814761 14.4989 0.46826C14.0702 0.118638 13.5447 2.32458e-05 13 2.20537e-05L3 0C2.45536 0 1.92982 0.118541 1.50106 0.46812C1.0761 0.814602 0.850422 1.30347 0.726786 1.8279L0.72402 1.83963L0.0936206 4.95927C0.0310375 5.26897 -0.000488281 5.58414 -0.000488281 5.90011V6C-0.000488281 6.87964 0.390631 7.64918 1.00228 8.19109C1.00077 8.21053 1 8.23017 1 8.25V13.75C1 14.9926 2.00736 16 3.25 16H12.75C13.9926 16 15 14.9926 15 13.75V8.25C15 8.2301 14.9992 8.21039 14.9977 8.19089ZM1.5639 5.25637L2.18938 2.16112C2.27008 1.82536 2.37436 1.69148 2.44893 1.63068C2.5205 1.57233 2.66423 1.5 3 1.5L5.13914 1.5L4.91916 5.83281V5.85184C4.91916 6.75985 4.16621 7.5185 3.20933 7.5185C2.20733 7.5185 1.49951 6.78036 1.49951 6V5.90011C1.49951 5.68392 1.52108 5.46828 1.5639 5.25637ZM6.41924 5.86925L6.64107 1.50001L9.35867 1.50001L9.5805 5.86926C9.5716 6.81148 8.84083 7.51853 7.99982 7.51853C7.15886 7.51853 6.42814 6.81151 6.41924 5.86925ZM11.0806 5.83283L10.8606 1.50002L13 1.50002C13.3356 1.50002 13.4793 1.57235 13.5508 1.6307C13.6254 1.6915 13.7297 1.8254 13.8103 2.16111L14.4358 5.25637C14.4787 5.46827 14.5002 5.68393 14.5002 5.90012V6C14.5002 6.78037 13.7924 7.51853 12.7904 7.51853C11.8335 7.51853 11.0806 6.75987 11.0806 5.85186V5.83283ZM12.7904 9.01853C11.8162 9.01853 10.9371 8.58803 10.3463 7.90493C9.78443 8.58417 8.94686 9.01853 7.99982 9.01853C7.05278 9.01853 6.21526 8.58417 5.65344 7.90494C5.06261 8.58802 4.18353 9.0185 3.20933 9.0185C2.96731 9.0185 2.72967 8.99264 2.5 8.94337V11.5H13.5V8.94334C13.2703 8.99264 13.0325 9.01853 12.7904 9.01853ZM2.5 13.75V13H13.5V13.75C13.5 14.1642 13.1642 14.5 12.75 14.5H3.25C2.83579 14.5 2.5 14.1642 2.5 13.75Z" fill="currentColor"/>
                     </svg>`,
              label: 'Create account',
              onClick: () => {
                console.log('Create account clicked');
                // Add your create account logic here
              }
            },
            {
              icon: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                       <path fill-rule="evenodd" clip-rule="evenodd" d="M0 2.75C0 1.23122 1.23122 0 2.75 0H8C9.51878 0 10.75 1.23122 10.75 2.75V3C10.75 3.41421 10.4142 3.75 10 3.75C9.58579 3.75 9.25 3.41421 9.25 3V2.75C9.25 2.05964 8.69036 1.5 8 1.5H2.75C2.05964 1.5 1.5 2.05964 1.5 2.75V14.25C1.5 14.3881 1.61193 14.5 1.75 14.5H4.25C4.66421 14.5 5 14.8358 5 15.25C5 15.6642 4.66421 16 4.25 16H1.75C0.783502 16 0 15.2165 0 14.25V2.75ZM10.8525 5.864C11.0957 5.712 11.4043 5.712 11.6475 5.864L15.6475 8.364C15.8668 8.50106 16 8.74141 16 9V14.25C16 15.2165 15.2165 16 14.25 16H8.25C7.2835 16 6.5 15.2165 6.5 14.25V9C6.5 8.74141 6.63321 8.50106 6.8525 8.364L10.8525 5.864ZM8 9.41569V14.25C8 14.3881 8.11193 14.5 8.25 14.5H10.5V13C10.5 12.5858 10.8358 12.25 11.25 12.25C11.6642 12.25 12 12.5858 12 13V14.5H14.25C14.3881 14.5 14.5 14.3881 14.5 14.25V9.41569L11.25 7.38444L8 9.41569Z" fill="currentColor"/>
                       <path d="M3 4.5C3 3.94772 3.44772 3.5 4 3.5C4.55228 3.5 5 3.94772 5 4.5C5 5.05228 4.55228 5.5 4 5.5C3.44772 5.5 3 5.05228 3 4.5Z" fill="currentColor"/>
                       <path d="M3 8C3 7.44772 3.44772 7 4 7C4.55228 7 5 7.44772 5 8C5 8.55228 4.55228 9 4 9C3.44772 9 3 8.55228 3 8Z" fill="currentColor"/>
                       <path d="M6 4.5C6 3.94772 6.44772 3.5 7 3.5C7.55228 3.5 8 3.94772 8 4.5C8 5.05228 7.55228 5.5 7 5.5C6.44772 5.5 6 5.05228 6 4.5Z" fill="currentColor"/>
                       <path d="M3 11.5C3 10.9477 3.44772 10.5 4 10.5C4.55228 10.5 5 10.9477 5 11.5C5 12.0523 4.55228 12.5 4 12.5C3.44772 12.5 3 12.0523 3 11.5Z" fill="currentColor"/>
                     </svg>`,
              label: 'Create organization',
              onClick: () => {
                console.log('Create organization clicked');
                // Add your create organization logic here
              }
            }
          ]
        });
        }
        

        

        
        // Initialize account list order
        reorderAccountList(currentAccount);
        
        // Initialize the current account display
        updateActiveAccount(currentAccount);
        
        // Update content panel - show "All accounts" if that's the current selection
        const account = accounts[currentAccount];
        if (account.isOrganization && currentSubAccount === 'all-accounts') {
          updateContentPanel({
            id: 'all-accounts',
            name: 'All accounts',
            type: account.name,
            isAllAccounts: true
          });
        } else {
          updateContentPanel(account);
        }
        
        updateNavAccountSwitcher(account);
        
        // Force re-render to pick up correct colors
        if (window.navAccountSwitcherInstance) {
          window.navAccountSwitcherInstance.render();
          window.navAccountSwitcherInstance.bindEvents();
        }
        
      });
    </script>
</head>
<body>
  <div class="app-container">
    <!-- Account Panel -->
    <div class="account-panel" id="accountPanel">
      <div class="account-panel-content">
        <!-- Account Group -->
        <div class="account-group">
          <!-- Account Items -->
          <div class="account-item nav-item active" data-account="acme-inc" title="Current account">
            <div class="nav-item-icon">
              <div class="account-avatar" data-initials="AI" data-color="#3B82F6"></div>
            </div>
            <span class="nav-item-label">Acme, Inc.</span>
          </div>
          
          <div class="account-item nav-item" data-account="cactus-practice">
            <div class="nav-item-icon">
              <div class="account-avatar" data-initials="CP" data-color="#10B981"></div>
            </div>
            <span class="nav-item-label">Cactus Practice</span>
          </div>
          
          <div class="account-item nav-item" data-account="lil-fatsos">
            <div class="nav-item-icon">
              <div class="account-avatar" data-initials="LF" data-color="#F59E0B"></div>
            </div>
            <span class="nav-item-label">Lil'Fatsos</span>
          </div>
          
          <!-- Add Account Button -->
          <div class="add-account-button nav-item" id="addAccountButton">
            <div class="nav-item-icon">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M8 0.25C8.48325 0.25 8.875 0.641751 8.875 1.125V7.125H14.875C15.3582 7.125 15.75 7.51675 15.75 8C15.75 8.48325 15.3582 8.875 14.875 8.875H8.875V14.875C8.875 15.3582 8.48325 15.75 8 15.75C7.51675 15.75 7.125 15.3582 7.125 14.875V8.875H1.125C0.641751 8.875 0.25 8.48325 0.25 8C0.25 7.51675 0.641751 7.125 1.125 7.125H7.125V1.125C7.125 0.641751 7.51675 0.25 8 0.25Z" fill="currentColor"/>
              </svg>
            </div>
            <span class="nav-item-label">Create</span>
          </div>
        </div>



        <!-- Bottom User Section -->
        <div class="user-section bottom-pinned">
          <!-- Username Button -->
          <div class="nav-item" id="usernameButton">
            <div class="nav-item-icon">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 14.4H13.5C13.7209 14.4 13.9 14.2209 13.9 14C13.9 12.1222 12.3778 10.6 10.5 10.6H5.5C3.62223 10.6 2.1 12.1222 2.1 14C2.1 14.2209 2.27909 14.4 2.5 14.4ZM2.5 16H13.5C14.6046 16 15.5 15.1046 15.5 14C15.5 11.2386 13.2614 9 10.5 9H5.5C2.73858 9 0.5 11.2386 0.5 14C0.5 15.1046 1.39543 16 2.5 16Z" fill="currentColor"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M8 6.4C9.32548 6.4 10.4 5.32548 10.4 4C10.4 2.67452 9.32548 1.6 8 1.6C6.67452 1.6 5.6 2.67452 5.6 4C5.6 5.32548 6.67452 6.4 8 6.4ZM8 8C10.2091 8 12 6.20914 12 4C12 1.79086 10.2091 0 8 0C5.79086 0 4 1.79086 4 4C4 6.20914 5.79086 8 8 8Z" fill="currentColor"/>
              </svg>
            </div>
            <span class="nav-item-label">John Doe</span>
          </div>

          <!-- Sign Out Button -->
          <div class="nav-item" id="signOutButton">
            <div class="nav-item-icon">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 1C2.23122 1 1 2.23122 1 3.75V12.25C1 13.7688 2.23122 15 3.75 15H8C8.41421 15 8.75 14.6642 8.75 14.25C8.75 13.8358 8.41421 13.5 8 13.5H3.75C3.05964 13.5 2.5 12.9404 2.5 12.25V3.75C2.5 3.05964 3.05964 2.5 3.75 2.5H8C8.41421 2.5 8.75 2.16421 8.75 1.75C8.75 1.33579 8.41421 1 8 1H3.75Z" fill="currentColor"/>
                <path d="M12.0303 3.96967C11.7374 3.67678 11.2626 3.67678 10.9697 3.96967C10.6768 4.26256 10.6768 4.73744 10.9697 5.03033L13.1893 7.25H6C5.58579 7.25 5.25 7.58579 5.25 8C5.25 8.41421 5.58579 8.75 6 8.75H13.1893L10.9697 10.9697C10.6768 11.2626 10.6768 11.7374 10.9697 12.0303C11.2626 12.3232 11.7374 12.3232 12.0303 12.0303L15.5303 8.53033C15.671 8.38968 15.75 8.19891 15.75 8C15.75 7.80109 15.671 7.61032 15.5303 7.46967L12.0303 3.96967Z" fill="currentColor"/>
              </svg>
            </div>
            <span class="nav-item-label">Sign Out</span>
          </div>
        </div>

      </div>
    </div>

    <div class="layout-container">
         <!-- Navigation Panel -->
     <div class="nav-panel" id="navPanel">
       <div style="padding: 6px 20px 12px 20px; flex: 1;">
         <!-- Account Switcher -->
         <div class="account-switcher-container">
           <button class="hamburger-button" type="button">
             <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
               <line x1="3" y1="6" x2="21" y2="6"/>
               <line x1="3" y1="12" x2="21" y2="12"/>
               <line x1="3" y1="18" x2="21" y2="18"/>
             </svg>
           </button>
           <div id="nav-account-switcher"></div>
         </div>
         <div class="main-nav">
           <a href="#" class="nav-item active">
             <div class="nav-item-icon">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M3 16C1.61929 16 0.5 14.8807 0.5 13.5V5.54791C0.5 4.89162 0.821983 4.27709 1.36158 3.90352L6.48633 0.355616C6.82081 0.124056 7.21794 0 7.62475 0H8.37525C8.78206 0 9.17919 0.124056 9.51367 0.355615L14.6384 3.90352C15.178 4.27709 15.5 4.89162 15.5 5.54791V13.5C15.5 14.8807 14.3807 16 13 16H3ZM5 14.5H3C2.44772 14.5 2 14.0523 2 13.5V5.54791C2 5.38383 2.0805 5.2302 2.21539 5.13681L7.34015 1.5889C7.42377 1.53101 7.52305 1.5 7.62475 1.5H8.37525C8.47695 1.5 8.57623 1.53101 8.65985 1.5889L13.7846 5.13681C13.9195 5.2302 14 5.38383 14 5.54791V13.5C14 14.0523 13.5523 14.5 13 14.5H11V8C11 7.44772 10.5523 7 10 7H6C5.44772 7 5 7.44772 5 8V14.5ZM6.5 14.5H9.5V8.5H6.5V14.5Z" fill="currentColor"/>
               </svg>
             </div>
             <span class="nav-item-label">Home</span>
             <div class="nav-item-tooltip">Home</div>
           </a>
           
           <a href="#" class="nav-item">
             <div class="nav-item-icon">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path d="M1 2C1 1.58579 1.33579 1.25 1.75 1.25H9.25C9.66421 1.25 10 1.58579 10 2C10 2.41421 9.66421 2.75 9.25 2.75H1.75C1.33579 2.75 1 2.41421 1 2Z" fill="currentColor"/>
                 <path d="M1 10C1 9.58579 1.33579 9.25 1.75 9.25H6.75C7.16421 9.25 7.5 9.58579 7.5 10C7.5 10.4142 7.16421 10.75 6.75 10.75H1.75C1.33579 10.75 1 10.4142 1 10Z" fill="currentColor"/>
                 <path d="M3.25 5.25C2.83579 5.25 2.5 5.58579 2.5 6C2.5 6.41421 2.83579 6.75 3.25 6.75H10.75C11.1642 6.75 11.5 6.41421 11.5 6C11.5 5.58579 11.1642 5.25 10.75 5.25H3.25Z" fill="currentColor"/>
                 <path d="M2.5 14C2.5 13.5858 2.83579 13.25 3.25 13.25H7.25C7.66421 13.25 8 13.5858 8 14C8 14.4142 7.66421 14.75 7.25 14.75H3.25C2.83579 14.75 2.5 14.4142 2.5 14Z" fill="currentColor"/>
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M16 11.5C16 13.433 14.433 15 12.5 15C10.567 15 9 13.433 9 11.5C9 9.567 10.567 8 12.5 8C14.433 8 16 9.567 16 11.5ZM14.5 11.5C14.5 12.6046 13.6046 13.5 12.5 13.5C11.3954 13.5 10.5 12.6046 10.5 11.5C10.5 10.3954 11.3954 9.5 12.5 9.5C13.6046 9.5 14.5 10.3954 14.5 11.5Z" fill="currentColor"/>
               </svg>
             </div>
             <span class="nav-item-label">Balances</span>
             <div class="nav-item-tooltip">Balances</div>
           </a>
           
           <a href="#" class="nav-item">
             <div class="nav-item-icon">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path d="M9.71445 6.69302C9.43459 6.99838 9.45526 7.4728 9.76062 7.75267C10.066 8.03254 10.5404 8.01187 10.8203 7.7065L13.7526 4.50699C14.0154 4.22029 14.0154 3.7803 13.7527 3.49356L10.8203 0.293368C10.5405 -0.0120257 10.0661 -0.0327462 9.76068 0.247088C9.45529 0.526922 9.43457 1.00134 9.7144 1.30674L11.4953 3.25028L4.60029 3.24993C2.52914 3.24983 0.850098 4.92879 0.850098 6.99993V7.06671C0.850098 7.48092 1.18588 7.81671 1.6001 7.81671C2.01431 7.81671 2.3501 7.48092 2.3501 7.06671V6.99993C2.3501 5.75725 3.35753 4.74987 4.60021 4.74993L11.495 4.75028L9.71445 6.69302Z" fill="currentColor"/>
                 <path d="M6.28588 9.3068C6.56571 9.0014 6.54499 8.52698 6.2396 8.24715C5.9342 7.96731 5.45978 7.98803 5.17994 8.29343L2.24759 11.4936C1.98486 11.7803 1.98488 12.2203 2.24762 12.507L5.17998 15.7068C5.45983 16.0122 5.93425 16.0329 6.23963 15.753C6.54501 15.4732 6.5657 14.9988 6.28584 14.6934L4.50542 12.7506H11.4C13.4711 12.7506 15.15 11.0716 15.15 9.00058V8.93365C15.15 8.51944 14.8142 8.18365 14.4 8.18365C13.9858 8.18365 13.65 8.51944 13.65 8.93365V9.00058C13.65 10.2432 12.6427 11.2506 11.4 11.2506H4.50478L6.28588 9.3068Z" fill="currentColor"/>
               </svg>
             </div>
             <span class="nav-item-label">Transactions</span>
             <div class="nav-item-tooltip">Transactions</div>
           </a>
           
           <a href="#" class="nav-item">
             <div class="nav-item-icon">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 14.4H13.5C13.7209 14.4 13.9 14.2209 13.9 14C13.9 12.1222 12.3778 10.6 10.5 10.6H5.5C3.62223 10.6 2.1 12.1222 2.1 14C2.1 14.2209 2.27909 14.4 2.5 14.4ZM2.5 16H13.5C14.6046 16 15.5 15.1046 15.5 14C15.5 11.2386 13.2614 9 10.5 9H5.5C2.73858 9 0.5 11.2386 0.5 14C0.5 15.1046 1.39543 16 2.5 16Z" fill="currentColor"/>
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M8 6.4C9.32548 6.4 10.4 5.32548 10.4 4C10.4 2.67452 9.32548 1.6 8 1.6C6.67452 1.6 5.6 2.67452 5.6 4C5.6 5.32548 6.67452 6.4 8 6.4ZM8 8C10.2091 8 12 6.20914 12 4C12 1.79086 10.2091 0 8 0C5.79086 0 4 1.79086 4 4C4 6.20914 5.79086 8 8 8Z" fill="currentColor"/>
               </svg>
             </div>
             <span class="nav-item-label">Customers</span>
             <div class="nav-item-tooltip">Customers</div>
           </a>
           
           <a href="#" class="nav-item">
             <div class="nav-item-icon">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M7.97311 0C7.66262 0 7.3564 0.0722903 7.07869 0.211146L1.60655 2.94721C0.928981 3.286 0.500977 3.97852 0.500977 4.73607V11.3054C0.500977 12.0412 0.904957 12.7175 1.55278 13.0664L6.33503 15.6414C6.77216 15.8768 7.26086 16 7.75733 16H8.24452C8.74105 16 9.22982 15.8768 9.66699 15.6413L14.4483 13.0664C15.096 12.7175 15.4999 12.0412 15.4999 11.3055V4.73599C15.4999 3.97848 15.072 3.28599 14.3945 2.94718L8.92331 0.211199C8.64557 0.0723089 8.33931 0 8.02878 0H7.97311ZM13.9999 11.3055V5.62105L8.7499 8.44799V14.4123C8.82049 14.387 8.88932 14.3564 8.95576 14.3207L13.737 11.7457C13.899 11.6585 13.9999 11.4894 13.9999 11.3055ZM8.25241 1.5528L13.5093 4.18162L11.4495 5.29075L6.06848 2.3933L7.74951 1.55279C7.81893 1.51807 7.89549 1.5 7.97311 1.5H8.02878C8.10641 1.5 8.18298 1.51808 8.25241 1.5528ZM4.75605 3.04951L2.49116 4.18196L7.9999 7.14821L10.1839 5.9722L4.75605 3.04951ZM7.2499 8.44799L2.00098 5.62165V11.3054C2.00098 11.4894 2.10197 11.6584 2.26393 11.7456L7.04618 14.3207C7.11195 14.3561 7.18006 14.3865 7.2499 14.4116V8.44799Z" fill="currentColor"/>
               </svg>
             </div>
             <span class="nav-item-label">Product Catalog</span>
             <div class="nav-item-tooltip">Product Catalog</div>
           </a>
         </div>
         
         <div class="workloads-nav">
           <a href="#" class="workload-item">
             <div class="nav-item-icon">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M0 6C0 5.6898 0.162753 5.40235 0.428746 5.24275L7.07125 1.25725C7.3518 1.08892 7.67283 1 8 1C8.32717 1 8.6482 1.08892 8.92875 1.25725L15.5713 5.24275C15.8372 5.40235 16 5.6898 16 6C16 6.3102 15.8372 6.59765 15.5713 6.75725L8.92875 10.7428C8.6482 10.9111 8.32717 11 8 11C7.67283 11 7.3518 10.9111 7.07125 10.7428L0.428746 6.75725C0.162753 6.59765 0 6.3102 0 6ZM7.89445 9.37076L2.27651 6L7.89445 2.62924C7.92633 2.61011 7.96282 2.6 8 2.6C8.03718 2.6 8.07367 2.61011 8.10555 2.62924L13.7235 6L8.10555 9.37076C8.07367 9.38989 8.03718 9.4 8 9.4C7.96281 9.4 7.92633 9.38989 7.89445 9.37076Z" fill="currentColor"/>
                 <path d="M1.43422 9.82811C1.06312 9.58833 0.5679 9.69478 0.328114 10.0659C0.0883268 10.437 0.194776 10.9322 0.565875 11.172L6.69425 15.1319C7.06621 15.3722 7.49965 15.5 7.9425 15.5H8.0576C8.50045 15.5 8.93388 15.3722 9.30584 15.1319L15.4342 11.172C15.8053 10.9322 15.9118 10.437 15.672 10.0659C15.4322 9.69478 14.937 9.58833 14.5659 9.82811L8.4375 13.788C8.32429 13.8611 8.19238 13.9 8.0576 13.9H7.9425C7.80772 13.9 7.6758 13.8611 7.5626 13.788L1.43422 9.82811Z" fill="currentColor"/>
               </svg>
             </div>
             <span class="nav-item-label">Connect</span>
             <div class="workload-caret-icon">
               <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M0.606072 2.33351C0.307015 2.62011 0.296913 3.09487 0.58351 3.39393L3.45851 6.39393C3.59989 6.54146 3.79535 6.62492 3.99969 6.625C4.20403 6.62509 4.39955 6.54179 4.54106 6.39438L7.41606 3.39938C7.70291 3.10056 7.6932 2.62579 7.39438 2.33894C7.09556 2.0521 6.62079 2.0618 6.33394 2.36062L4.00045 4.79151L1.66649 2.35607C1.3799 2.05701 0.905129 2.04691 0.606072 2.33351Z" fill="currentColor"/>
               </svg>
             </div>
             <div class="nav-item-tooltip">Connect</div>
           </a>
           
           <a href="#" class="workload-item">
             <div class="nav-item-icon">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M0 3.88431C0 3.08377 0.545006 2.40837 1.3057 2.20462L1.32368 2.19981L10.5518 0.212648C10.7019 0.175079 10.8523 0.157617 11 0.158478C11.927 0.163877 12.75 0.890772 12.75 1.89811V4.5H13.5C14.8807 4.5 16 5.61929 16 7V13.5C16 14.8807 14.8807 16 13.5 16H2.5C1.11929 16 0 14.8807 0 13.5V3.88431ZM10.9127 1.6686C11.1118 1.61666 11.25 1.75884 11.25 1.89811V4.5H2.5C2.14445 4.5 1.80623 4.57422 1.5 4.70802V3.88431C1.5 3.79247 1.5588 3.69527 1.68102 3.65725L10.8971 1.67268L10.9127 1.6686ZM1.5 7V13.5C1.5 14.0523 1.94772 14.5 2.5 14.5H13.5C14.0523 14.5 14.5 14.0523 14.5 13.5V7C14.5 6.44772 14.0523 6 13.5 6H2.5C1.94772 6 1.5 6.44772 1.5 7Z" fill="currentColor"/>
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M10.8971 1.67268L1.68102 3.65725C1.5588 3.69527 1.5 3.79247 1.5 3.88431V4.70802C1.80623 4.57422 2.14445 4.5 2.5 4.5H11.25V1.89811C11.25 1.75884 11.1118 1.61666 10.9127 1.6686M10.9127 1.6686L10.8971 1.67268ZM1.32368 2.19981L10.5518 0.212648C10.7019 0.175079 10.8523 0.157617 11 0.158478C11.927 0.163877 12.75 0.890772 12.75 1.89811V4.5H13.5C14.8807 4.5 16 5.61929 16 7V13.5C16 14.8807 14.8807 16 13.5 16H2.5C1.11929 16 0 14.8807 0 13.5V3.88431C0 3.08377 0.545006 2.40837 1.3057 2.20462L1.32368 2.19981ZM1.5 13.5V7C1.5 6.44772 1.94772 6 2.5 6H13.5C14.0523 6 14.5 6.44772 14.5 7V13.5C14.5 14.0523 14.0523 14.5 13.5 14.5H2.5C1.94772 14.5 1.5 14.0523 1.5 13.5ZM13 10.25C13 10.9375 12.4375 11.5 11.75 11.5C11.0625 11.5 10.5 10.95 10.5 10.25C10.5 9.56248 11.0625 8.99998 11.75 8.99998C12.4375 8.99998 13 9.56248 13 10.25Z" fill="currentColor"/>
               </svg>
             </div>
             <span class="nav-item-label">Payments</span>
             <div class="workload-caret-icon">
               <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M0.606072 2.33351C0.307015 2.62011 0.296913 3.09487 0.58351 3.39393L3.45851 6.39393C3.59989 6.54146 3.79535 6.62492 3.99969 6.625C4.20403 6.62509 4.39955 6.54179 4.54106 6.39438L7.41606 3.39938C7.70291 3.10056 7.6932 2.62579 7.39438 2.33894C7.09556 2.0521 6.62079 2.0618 6.33394 2.36062L4.00045 4.79151L1.66649 2.35607C1.3799 2.05701 0.905129 2.04691 0.606072 2.33351Z" fill="currentColor"/>
               </svg>
             </div>
             <div class="nav-item-tooltip">Payments</div>
           </a>
           
           <a href="#" class="workload-item">
             <div class="nav-item-icon">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path d="M4 4.70007C4 4.28586 4.33579 3.95007 4.75 3.95007H7.25C7.66421 3.95007 8 4.28586 8 4.70007C8 5.11429 7.66421 5.45007 7.25 5.45007H4.75C4.33579 5.45007 4 5.11429 4 4.70007Z" fill="currentColor"/>
                 <path d="M4.75 6.95007C4.33579 6.95007 4 7.28586 4 7.70007C4 8.11429 4.33579 8.45007 4.75 8.45007H11.25C11.6642 8.45007 12 8.11429 12 7.70007C12 7.28586 11.6642 6.95007 11.25 6.95007H4.75Z" fill="currentColor"/>
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M1.55279 15.2764C1.214 15.107 1 14.7607 1 14.382V2.5C1 1.11929 2.11929 0 3.5 0H12.5C13.8807 0 15 1.11929 15 2.5V12C15 12.3148 14.8518 12.6111 14.6 12.8L13.3 13.775C13.1222 13.9083 12.8778 13.9083 12.7 13.775L11.3163 12.7372C11.1309 12.5982 10.8743 12.6048 10.6962 12.7531L8.27282 14.7727C8.10945 14.9088 7.87783 14.9267 7.69548 14.8173L5.83475 13.7009C5.63802 13.5828 5.38619 13.6138 5.22395 13.776L3.25483 15.7452C3.10265 15.8974 2.87016 15.9351 2.67767 15.8388L1.55279 15.2764ZM2.5 14.0729V2.5C2.5 1.94772 2.94772 1.5 3.5 1.5H12.5C13.0523 1.5 13.5 1.94772 13.5 2.5V11.75L13 12.125L12.2163 11.5372C11.4747 10.9811 10.4481 11.0073 9.73596 11.6008L7.85818 13.1656L6.6065 12.4146C5.81955 11.9424 4.81223 12.0664 4.16329 12.7154L2.70382 14.1749L2.5 14.0729Z" fill="currentColor"/>
               </svg>
             </div>
             <span class="nav-item-label">Billing</span>
             <div class="workload-caret-icon">
               <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M0.606072 2.33351C0.307015 2.62011 0.296913 3.09487 0.58351 3.39393L3.45851 6.39393C3.59989 6.54146 3.79535 6.62492 3.99969 6.625C4.20403 6.62509 4.39955 6.54179 4.54106 6.39438L7.41606 3.39938C7.70291 3.10056 7.6932 2.62579 7.39438 2.33894C7.09556 2.0521 6.62079 2.0618 6.33394 2.36062L4.00045 4.79151L1.66649 2.35607C1.3799 2.05701 0.905129 2.04691 0.606072 2.33351Z" fill="currentColor"/>
               </svg>
             </div>
             <div class="nav-item-tooltip">Billing</div>
           </a>
           
           <a href="#" class="workload-item">
             <div class="nav-item-icon">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path d="M14 1.875C14 1.39175 13.6082 1 13.125 1C12.6418 1 12.25 1.39175 12.25 1.875V10.625C12.25 11.1082 12.6418 11.5 13.125 11.5C13.6082 11.5 14 11.1082 14 10.625V1.875Z" fill="currentColor"/>
                 <path d="M2.60073 1.875C2.60073 1.43317 2.24256 1.075 1.80073 1.075C1.3589 1.075 1.00073 1.43317 1.00073 1.875V13.2C1.00073 14.1941 1.80662 15 2.80073 15H14.6265C15.0683 15 15.4265 14.6418 15.4265 14.2C15.4265 13.7582 15.0683 13.4 14.6265 13.4H2.80073C2.69027 13.4 2.60073 13.3105 2.60073 13.2V1.875Z" fill="currentColor"/>
                 <path d="M9.125 3.5C9.60825 3.5 10 3.89175 10 4.375V10.625C10 11.1082 9.60825 11.5 9.125 11.5C8.64175 11.5 8.25 11.1082 8.25 10.625V4.375C8.25 3.89175 8.64175 3.5 9.125 3.5Z" fill="currentColor"/>
                 <path d="M6 6.875C6 6.39175 5.60825 6 5.125 6C4.64175 6 4.25 6.39175 4.25 6.875V10.625C4.25 11.1082 4.64175 11.5 5.125 11.5C5.60825 11.5 6 11.1082 6 10.625V6.875Z" fill="currentColor"/>
               </svg>
             </div>
             <span class="nav-item-label">Reporting</span>
             <div class="workload-caret-icon">
               <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M0.606072 2.33351C0.307015 2.62011 0.296913 3.09487 0.58351 3.39393L3.45851 6.39393C3.59989 6.54146 3.79535 6.62492 3.99969 6.625C4.20403 6.62509 4.39955 6.54179 4.54106 6.39438L7.41606 3.39938C7.70291 3.10056 7.6932 2.62579 7.39438 2.33894C7.09556 2.0521 6.62079 2.0618 6.33394 2.36062L4.00045 4.79151L1.66649 2.35607C1.3799 2.05701 0.905129 2.04691 0.606072 2.33351Z" fill="currentColor"/>
               </svg>
             </div>
             <div class="nav-item-tooltip">Reporting</div>
           </a>
           
           <a href="#" class="workload-item">
             <div class="nav-item-icon">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path d="M8 9.5C8.82843 9.5 9.5 8.82843 9.5 8C9.5 7.17157 8.82843 6.5 8 6.5C7.17157 6.5 6.5 7.17157 6.5 8C6.5 8.82843 7.17157 9.5 8 9.5Z" fill="currentColor"/>
                 <path d="M13.5 9.5C14.3284 9.5 15 8.82843 15 8C15 7.17157 14.3284 6.5 13.5 6.5C12.6716 6.5 12 7.17157 12 8C12 8.82843 12.6716 9.5 13.5 9.5Z" fill="currentColor"/>
                 <path d="M2.5 9.5C3.32843 9.5 4 8.82843 4 8C4 7.17157 3.32843 6.5 2.5 6.5C1.67157 6.5 1 7.17157 1 8C1 8.82843 1.67157 9.5 2.5 9.5Z" fill="currentColor"/>
               </svg>
             </div>
             <span class="nav-item-label">More</span>
             <div class="workload-caret-icon">
               <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M0.606072 2.33351C0.307015 2.62011 0.296913 3.09487 0.58351 3.39393L3.45851 6.39393C3.59989 6.54146 3.79535 6.62492 3.99969 6.625C4.20403 6.62509 4.39955 6.54179 4.54106 6.39438L7.41606 3.39938C7.70291 3.10056 7.6932 2.62579 7.39438 2.33894C7.09556 2.0521 6.62079 2.0618 6.33394 2.36062L4.00045 4.79151L1.66649 2.35607C1.3799 2.05701 0.905129 2.04691 0.606072 2.33351Z" fill="currentColor"/>
               </svg>
             </div>
             <div class="nav-item-tooltip">More</div>
           </a>
         </div>
       </div>
       
       <!-- Bottom Navigation -->
       <div class="bottom-nav">
         <a href="#" class="nav-item">
           <div class="nav-item-icon">
             <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
               <path fill-rule="evenodd" clip-rule="evenodd" d="M13 2.5H3C2.17157 2.5 1.5 3.17157 1.5 4V12C1.5 12.8284 2.17157 13.5 3 13.5H13C13.8284 13.5 14.5 12.8284 14.5 12V4C14.5 3.17157 13.8284 2.5 13 2.5ZM3 1C1.34315 1 0 2.34315 0 4V12C0 13.6569 1.34315 15 3 15H13C14.6569 15 16 13.6569 16 12V4C16 2.34315 14.6569 1 13 1H3Z" fill="currentColor"/>
               <path fill-rule="evenodd" clip-rule="evenodd" d="M3.43056 4.51191C3.70012 4.19741 4.1736 4.16099 4.48809 4.43056L7.98809 7.43056C8.15433 7.57304 8.25 7.78106 8.25 8C8.25 8.21894 8.15433 8.42696 7.98809 8.56944L4.48809 11.5694C4.1736 11.839 3.70012 11.8026 3.43056 11.4881C3.16099 11.1736 3.19741 10.7001 3.51191 10.4306L6.34756 8L3.51191 5.56944C3.19741 5.29988 3.16099 4.8264 3.43056 4.51191Z" fill="currentColor"/>
               <path fill-rule="evenodd" clip-rule="evenodd" d="M8 10.75C8 10.3358 8.33579 10 8.75 10H12.25C12.6642 10 13 10.3358 13 10.75C13 11.1642 12.6642 11.5 12.25 11.5H8.75C8.33579 11.5 8 11.1642 8 10.75Z" fill="currentColor"/>
             </svg>
           </div>
           <span class="nav-item-label">Developers</span>
           <div class="nav-item-tooltip">Developers</div>
         </a>
       </div>
     </div>
     
     <!-- Floating Collapse Handle -->
     <div class="collapse-handle">
       <div class="collapse-line"></div>
       <svg class="collapse-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
         <polyline points="4,2 8,6 4,10" stroke="var(--neutral-200)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
       </svg>
       <div class="collapse-tooltip">Collapse</div>
     </div>
    
         <!-- Content Panel -->
     <div class="content-panel" id="contentPanel">
       <!-- Content Header -->
       <div class="content-header">
         <!-- Search Bar -->
         <div class="search-container">
           <div class="search-icon">
             <svg viewBox="0 0 24 24">
               <circle cx="11" cy="11" r="8"></circle>
               <path d="m21 21-4.35-4.35"></path>
             </svg>
           </div>
           <input type="text" class="search-input" placeholder="Search…">
         </div>
         
         <!-- Header Actions -->
         <div class="header-actions">
           <div class="header-icon">
             <svg width="16" height="16" viewBox="0 0 16 16">
               <circle cx="8" cy="8" r="8" fill="var(--neutral-50)"/>
             </svg>
           </div>
           <div class="header-icon">
             <svg width="16" height="16" viewBox="0 0 16 16">
               <circle cx="8" cy="8" r="8" fill="var(--neutral-50)"/>
             </svg>
           </div>
           <div class="header-icon">
             <svg width="16" height="16" viewBox="0 0 16 16">
               <circle cx="8" cy="8" r="8" fill="var(--neutral-50)"/>
             </svg>
           </div>
           <div class="header-icon">
             <svg width="16" height="16" viewBox="0 0 16 16">
               <circle cx="8" cy="8" r="8" fill="var(--neutral-50)"/>
             </svg>
           </div>
         </div>
       </div>
       
       <!-- Content Body -->
       <div class="content-body">
         <div class="content-placeholder"></div>
       </div>
     </div>
  </div>

  <!-- Include shared components -->
  <script src="../../shared/components/account-switcher.js"></script>
  <script src="../../shared/components/popover.js"></script>

  <script type="module">
    // Initialize account switcher with hierarchical structure
    const navAccountSwitcher = new AccountSwitcher(
      document.getElementById('nav-account-switcher'),
      {
        currentAccount: { id: 'all-accounts', name: 'All accounts', type: 'Acme, Inc.', isAllAccounts: true },
        accounts: [
          { id: 'acme-eats-us', name: 'Acme Eats US', type: 'United States' },
          { id: 'acme-eats-ca', name: 'Acme Eats CA', type: 'Canada' },
          { id: 'acme-eats-uk', name: 'Acme Eats UK', type: 'United Kingdom' },
          { id: 'acme-rides-us', name: 'Acme Rides US', type: 'United States' },
          { id: 'acme-rides-ca', name: 'Acme Rides CA', type: 'Canada' },
          { id: 'acme-deliveries-us', name: 'Acme Deliveries US', type: 'United States' },
          { id: 'acme-deliveries-uk', name: 'Acme Deliveries UK', type: 'United Kingdom' },
          { id: 'acme-financial', name: 'Acme Financial', type: 'Global' }
        ],
        variant: '2-line',
        onAccountChange: (selectedAccount) => {
          console.log('🔄 Sub-account selected from nav dropdown:', selectedAccount);
          
          if (selectedAccount.isAllAccounts) {
            // Handle "All accounts" aggregate view
            console.log('📊 Showing aggregate view for all accounts');
            
            // Update content panel using the centralized function
            window.updateContentPanel(selectedAccount);
            
            return;
          }
          
          // Handle regular sub-account switching within the current organization
          currentSubAccount = selectedAccount.id;
          window.currentSubAccount = currentSubAccount;
          
          // Update the content panel to show the new sub-account
          window.updateContentPanel(window.accounts[window.currentAccount]);
          
          console.log('✅ Sub-account switch complete:', selectedAccount.name);
        }
      }
    );


    
    // Store globally for access by updateNavAccountSwitcher function
    window.navAccountSwitcherInstance = navAccountSwitcher;
    
    // Manage hamburger button visibility when account switcher opens/closes
    const accountSwitcherContainer = document.querySelector('.account-switcher-container');
    
    // Override the open method to add container class
    const originalOpen = navAccountSwitcher.open.bind(navAccountSwitcher);
    navAccountSwitcher.open = function() {
      originalOpen();
      accountSwitcherContainer.classList.add('account-switcher-open');
    };
    
    // Override the close method to remove container class
    const originalClose = navAccountSwitcher.close.bind(navAccountSwitcher);
    navAccountSwitcher.close = function() {
      originalClose();
      accountSwitcherContainer.classList.remove('account-switcher-open');
    };
    
    // Initialize
    console.log('🚀 Dash Chrome ready!');
  </script>
    </div> <!-- Close app-container -->
  </body>
</html> 