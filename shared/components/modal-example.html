<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Modal Component - Usage Examples</title>
    
    <!-- Include shared styles -->
    <link rel="stylesheet" href="../styles/variables.css">
    <link rel="stylesheet" href="../styles/base.css">
    <link rel="stylesheet" href="../styles/components.css">
    <link rel="stylesheet" href="../styles/modal.css">
    
    <style>
        body {
            padding: 40px;
            background: var(--neutral-25);
        }
        .demo-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 32px;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }
        .demo-section {
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--neutral-100);
        }
        .demo-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        .demo-buttons {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }
        .demo-btn {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
            border: 1px solid var(--neutral-300);
            background: white;
            color: var(--neutral-700);
        }
        .demo-btn:hover {
            background: var(--neutral-50);
            border-color: var(--neutral-400);
        }
        .demo-btn-primary {
            background: var(--brand-600);
            color: white;
            border-color: var(--brand-600);
        }
        .demo-btn-primary:hover {
            background: var(--brand-700);
            border-color: var(--brand-700);
        }
        .code-block {
            background: var(--neutral-50);
            border: 1px solid var(--neutral-200);
            border-radius: 6px;
            padding: 16px;
            margin-top: 12px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 13px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>Global Modal Component</h1>
        <p>Reusable modal component with consistent styling and flexible configuration options.</p>

        <!-- Basic Modal -->
        <div class="demo-section">
            <h2>Basic Modal</h2>
            <p>Simple modal with title, content, and footer actions.</p>
            <div class="demo-buttons">
                <button class="demo-btn-primary" onclick="showBasicModal()">Show Basic Modal</button>
            </div>
            <div class="code-block">
const modal = new Modal({
  title: 'Basic Modal',
  content: '&lt;p&gt;This is a basic modal with standard functionality.&lt;/p&gt;',
  footerActions: [
    { text: 'Cancel', type: 'secondary', action: () => modal.hide() },
    { text: 'Save', type: 'primary', action: () => saveData() }
  ]
});
modal.show();
            </div>
        </div>

        <!-- Form Modal -->
        <div class="demo-section">
            <h2>Form Modal</h2>
            <p>Modal with form elements using utility methods.</p>
            <div class="demo-buttons">
                <button class="demo-btn" onclick="showFormModal()">Show Form Modal</button>
            </div>
            <div class="code-block">
const formContent = `
  ${Modal.createFormGroup('Name', Modal.createInput({ id: 'user-name', placeholder: 'Enter your name' }))}
  ${Modal.createFormGroup('Email', Modal.createInput({ type: 'email', id: 'user-email', placeholder: 'Enter your email' }))}
  ${Modal.createFormGroup('Role', Modal.createSelect({ 
    id: 'user-role', 
    items: [
      { value: 'admin', text: 'Administrator' },
      { value: 'user', text: 'User' },
      { value: 'viewer', text: 'Viewer' }
    ]
  }))}
`;

const modal = new Modal({
  title: 'User Information',
  content: formContent,
  footerActions: [
    { text: 'Cancel', type: 'secondary', action: () => modal.hide() },
    { text: 'Create User', type: 'primary', action: () => createUser() }
  ]
});
            </div>
        </div>

        <!-- Collapsible Modal -->
        <div class="demo-section">
            <h2>Collapsible Modules</h2>
            <p>Modal with collapsible sections for complex content organization.</p>
            <div class="demo-buttons">
                <button class="demo-btn" onclick="showCollapsibleModal()">Show Collapsible Modal</button>
            </div>
            <div class="code-block">
const uploadModule = Modal.createCollapsibleModule(
  'upload', 
  'Upload Data', 
  '&lt;p&gt;Upload your data files here.&lt;/p&gt;',
  true // Start collapsed
);

const settingsModule = Modal.createCollapsibleModule(
  'settings', 
  'Settings', 
  '&lt;p&gt;Configure your preferences.&lt;/p&gt;',
  false // Start expanded
);

const modal = new Modal({
  title: 'Advanced Configuration',
  content: uploadModule + settingsModule
});
            </div>
        </div>

        <!-- Confirmation Modal -->
        <div class="demo-section">
            <h2>Confirmation Modal</h2>
            <p>Simple confirmation dialog with destructive action.</p>
            <div class="demo-buttons">
                <button class="demo-btn" onclick="showConfirmationModal()">Show Confirmation</button>
            </div>
            <div class="code-block">
const modal = new Modal({
  title: 'Delete Account',
  content: '&lt;p&gt;Are you sure you want to delete this account? This action cannot be undone.&lt;/p&gt;',
  footerActions: [
    { text: 'Cancel', type: 'secondary', action: () => modal.hide() },
    { text: 'Delete', type: 'destructive', action: () => deleteAccount() }
  ]
});
            </div>
        </div>

        <!-- Custom Styling -->
        <div class="demo-section">
            <h2>Custom Styling</h2>
            <p>Modal with custom classes and callbacks.</p>
            <div class="demo-buttons">
                <button class="demo-btn" onclick="showCustomModal()">Show Custom Modal</button>
            </div>
            <div class="code-block">
const modal = new Modal({
  title: 'Custom Modal',
  content: '&lt;p&gt;This modal has custom styling and callbacks.&lt;/p&gt;',
  className: 'custom-modal',
  size: 'large',
  onShow: (modal) => console.log('Modal opened'),
  onHide: (modal) => console.log('Modal closed'),
  footerActions: [
    { text: 'Close', type: 'primary', action: () => modal.hide() }
  ]
});
            </div>
        </div>
    </div>

    <!-- Include modal component -->
    <script src="modal.js"></script>

    <script>
        // Example implementations
        function showBasicModal() {
            const modal = new Modal({
                title: 'Basic Modal',
                content: '<p>This is a basic modal with standard functionality. You can include any HTML content here.</p>',
                footerActions: [
                    { text: 'Cancel', type: 'secondary', action: () => modal.hide() },
                    { text: 'Save', type: 'primary', action: () => {
                        alert('Data saved!');
                        modal.hide();
                    }}
                ]
            });
            modal.show();
        }

        function showFormModal() {
            const formContent = `
                ${Modal.createFormGroup('Name', Modal.createInput({ id: 'user-name', placeholder: 'Enter your name' }))}
                ${Modal.createFormGroup('Email', Modal.createInput({ type: 'email', id: 'user-email', placeholder: 'Enter your email' }))}
                ${Modal.createFormGroup('Role', Modal.createSelect({ 
                    id: 'user-role', 
                    items: [
                        { value: '', text: 'Select a role...' },
                        { value: 'admin', text: 'Administrator' },
                        { value: 'user', text: 'User' },
                        { value: 'viewer', text: 'Viewer' }
                    ]
                }))}
                <p class="modal-help-text">All fields are required to create a new user account.</p>
            `;

            const modal = new Modal({
                title: 'Create New User',
                content: formContent,
                footerActions: [
                    { text: 'Cancel', type: 'secondary', action: () => modal.hide() },
                    { text: 'Create User', type: 'primary', action: () => {
                        const name = document.getElementById('user-name').value;
                        const email = document.getElementById('user-email').value;
                        const role = document.getElementById('user-role').value;
                        
                        if (name && email && role) {
                            alert(`User created: ${name} (${email}) as ${role}`);
                            modal.hide();
                        } else {
                            alert('Please fill in all fields');
                        }
                    }}
                ]
            });
            modal.show();
        }

        function showCollapsibleModal() {
            const uploadModule = Modal.createCollapsibleModule(
                'upload', 
                'Upload Data', 
                `
                    <div class="modal-btn-group">
                        <button class="modal-btn modal-btn-secondary">Upload File</button>
                        <button class="modal-btn modal-btn-text">Download Sample</button>
                    </div>
                    <p class="modal-help-text">Supported formats: CSV, JSON, XML</p>
                `,
                true // Start collapsed
            );

            const settingsModule = Modal.createCollapsibleModule(
                'settings', 
                'Settings', 
                `
                    ${Modal.createFormGroup('Notifications', Modal.createSelect({ 
                        id: 'notifications', 
                        items: ['Enabled', 'Disabled'],
                        selectedValue: 'Enabled'
                    }))}
                    ${Modal.createFormGroup('Theme', Modal.createSelect({ 
                        id: 'theme', 
                        items: ['Light', 'Dark', 'Auto'],
                        selectedValue: 'Auto'
                    }))}
                `,
                false // Start expanded
            );

            const modal = new Modal({
                title: 'Advanced Configuration',
                content: uploadModule + settingsModule,
                footerActions: [
                    { text: 'Reset', type: 'destructive', action: () => {
                        if (confirm('Reset all settings?')) {
                            alert('Settings reset');
                        }
                    }},
                    { text: 'Apply', type: 'primary', action: () => {
                        alert('Settings applied');
                        modal.hide();
                    }}
                ]
            });
            modal.show();
        }

        function showConfirmationModal() {
            const modal = new Modal({
                title: 'Delete Account',
                content: `
                    <p>Are you sure you want to delete this account? This action cannot be undone.</p>
                    <p class="modal-help-text" style="color: var(--critical-600); margin-top: 8px;">
                        All data associated with this account will be permanently removed.
                    </p>
                `,
                footerActions: [
                    { text: 'Cancel', type: 'secondary', action: () => modal.hide() },
                    { text: 'Delete Account', type: 'destructive', action: () => {
                        alert('Account deleted');
                        modal.hide();
                    }}
                ]
            });
            modal.show();
        }

        function showCustomModal() {
            const modal = new Modal({
                title: 'Custom Styled Modal',
                content: `
                    <p>This modal demonstrates custom styling and lifecycle callbacks.</p>
                    <div style="background: var(--neutral-50); padding: 16px; border-radius: 6px; margin: 16px 0;">
                        <strong>Features:</strong>
                        <ul style="margin: 8px 0 0 16px;">
                            <li>Custom CSS classes</li>
                            <li>onShow/onHide callbacks</li>
                            <li>Flexible sizing options</li>
                            <li>Dynamic content updates</li>
                        </ul>
                    </div>
                `,
                className: 'custom-modal',
                size: 'large',
                onShow: (modal) => {
                    console.log('Custom modal opened');
                    setTimeout(() => {
                        modal.setTitle('Updated Title');
                    }, 2000);
                },
                onHide: (modal) => console.log('Custom modal closed'),
                footerActions: [
                    { text: 'Update Content', type: 'secondary', action: () => {
                        modal.setContent('<p>Content has been updated dynamically!</p>');
                    }},
                    { text: 'Close', type: 'primary', action: () => modal.hide() }
                ]
            });
            modal.show();
        }
    </script>
</body>
</html> 